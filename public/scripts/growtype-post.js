!function(){"use strict";var t,e={933:function(){function t(t){if(t){var e={},r=t.find(".chosen-container").length>0;return t.closest(".growtype-post-filters-wrapper").find(".growtype-post-terms-filter-btn, select option").each((function(){var t=$(this),n=t.hasClass("is-active"),o=t.is(":selected"),a=t.closest("select").next(".chosen-container").length>0;(n||o&&a||!r&&(n||o))&&$.each(this.attributes,(function(r,n){if(n.name.startsWith("data-cat")){var o=n.name.replace("data-cat-",""),a=t.attr(n.name);"none"!==a&&(e[o]?e[o].includes(a)||e[o].push(a):e[o]=[a])}}))})),t.find("select[multiple]").each((function(){var t=$(this),r=t.attr("name")||t.data("filter-param");0===t.find(":selected").length&&r&&delete e[r]})),e}}var e,r=new Event("growtypePostLoadPosts");function n(t,e,n){var o=t.find(".growtype-post-container").attr("data-loading-type"),a=0,i=0;t.find(".growtype-post-single").each((function(t,r){var s=!0;Object.entries(e).map((function(t,e){var n=t[0].toString(),o=t[1];Object.entries(o).map((function(t){var e=t[1];if("all"!==e&&void 0!==e&&""!==e){var o=$(r).attr("data-cat-"+n);if(void 0!==o&&!1!==o){var a=!1;$(r).attr("data-cat-"+n).split(",").forEach((function(t){t.trim()===e&&(a=!0)})),a||(s=!1)}else s=!1}}))})),s&&i++,("ajax"===o||a<n)&&s&&(a++,$(r).fadeIn())}));var s=t.find(".growtype-post-container").attr("id"),p=$('a[data-growtype-post-load-more="'+s+'"]');0===p.length&&(p=t.find(".wp-block-button")),0===p.length&&(p=t.find(".gp-actions-wrapper .btn-loadmore")),"ajax"!==o&&(a===i?p.closest(".wp-block-button, .gp-actions-wrapper").hide():p.closest(".wp-block-button, .gp-actions-wrapper").fadeIn()),document.dispatchEvent(r)}function o(e){var r=t(e);if(void 0===r)return"";var n="";return Object.entries(r).map((function(t,e){var r=t[0],o=t[1].toString();n+=r+"_"+o+"_"})),n}function a(t){return new CustomEvent("growtypePostAjaxLoadMoreContent",{detail:t})}function i(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){var s=t.posts_container.closest(".growtype-post-container-wrapper"),p=$(s).attr("id");void 0===t.filters_container&&(t.filters_container=s.find(".growtype-post-terms-filters")),void 0===t.btn&&(t.btn=s.find(".btn-loadmore")),void 0===r.existing_posts_ids&&(r.existing_posts_ids=[],t.posts_container.find(".growtype-post-single").each((function(){r.existing_posts_ids.push($(this).attr("data-id"))})),r.existing_posts_ids=JSON.stringify(r.existing_posts_ids)),void 0===r.orderby&&s.find('select.growtype-post-custom-filter[name="orderby"]').length>0&&(r.orderby=t.posts_container.closest(".growtype-post-container-wrapper").find('select.growtype-post-custom-filter[name="orderby"]').val()),void 0===r.amount_to_load&&(r.amount_to_load=r.posts_per_page);var c=t.btn||null;c&&(c.addClass("is-loading"),c.append('<span class="spinner-border"></span>')),e&&e.abort(),e=jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"growtype_post_load_more_posts",args:r},success:function(e){var i="";e.data.render&&(void 0!==r.shuffle&&!0===r.shuffle&&t.posts_container.html(""),i=t.posts_container.append(e.data.render).closest(".growtype-post-container-wrapper"));if(c&&(c.removeClass("is-loading"),c.find(".spinner-border").remove(),c.closest(".gp-actions-wrapper").show()),!e.data.render||""===e.data.render||e.data.posts_amount!==r.amount_to_load){c&&c.closest(".gp-actions-wrapper").hide();var s=o(t.filters_container);void 0===window.growtype_post.wrappers[p].loaded_posts&&(window.growtype_post.wrappers[p].loaded_posts={}),window.growtype_post.wrappers[p][s]=!0}window.growtype_post.wrappers[p].load_more_posts_btn_clicked=!1,document.dispatchEvent(a({response:e,wrapper:i,args:r})),n(e)},error:function(t,e,r){window.growtype_post.wrappers[p].load_more_posts_btn_clicked=!1,i(r)}})}))}function s(e){var r=e.closest(".growtype-post-container-wrapper"),o=r.attr("id");if(e.click((function(e){if(e.preventDefault(),!window.growtype_post.wrappers[o].load_more_posts_btn_clicked){window.growtype_post.wrappers[o].load_more_posts_btn_clicked=!0;var a=$(this),s=a.attr("data-growtype-post-load-more"),p=$("#"+s);if(0===p.length&&(p=a.closest(".growtype-post-container")),0===p.length&&(p=a.closest(".growtype-post-container-wrapper").find(".growtype-post-container")),p){var c=p.attr("data-loading-type"),l=void 0===a.attr("data-growtype-post-load-more-amount")?p.attr("data-visible-posts"):a.attr("data-growtype-post-load-more-amount"),d=l=parseInt(l),f=l+d,u=p.closest(".wp-block-growtype-post").find(".growtype-post-terms-filters"),w=t(u);if("limited"===c){var g="";Object.entries(w).map((function(t,e){var r=t[0].toString(),n=t[1].toString();g+=r+"_"+n+"_"})),void 0!==window.growtype_post.wrappers[o].terms_filter[g]&&(f=parseInt(window.growtype_post.wrappers[o].terms_filter[g].visible)+d),window.growtype_post.wrappers[o].terms_filter[g]={visible:f},n(p.closest(".wp-block-growtype-post"),w,f),window.growtype_post.wrappers[o].load_more_posts_btn_clicked=!1}else if("ajax"===c){var y=p.closest(".growtype-post-container-wrapper").attr("data-args");(y=y?JSON.parse(y):{}).amount_to_load=d,y.amount_to_show=f,y.selected_terms_navigation_values=Object.assign({},w);var v=r.find('.growtype-post-filters-wrapper select[name="orderby"]').val();v&&(y.orderby=v);var h={};h.filters_container=u,h.btn=a,h.posts_container=p,i(h,y)}}}})),r.find(".gp-actions-wrapper").length>0){var a=r.find(".gp-actions-wrapper").closest(".growtype-post-container-wrapper").find(".growtype-post-container").attr("data-visible-posts"),s=r.find(".gp-actions-wrapper").closest(".growtype-post-container-wrapper").find(".growtype-post-container .growtype-post-single").length;r.find(".gp-actions-wrapper").closest(".growtype-post-container-wrapper").find(".growtype-post-container").attr("data-loading-type");s>=a&&r.find(".gp-actions-wrapper").show()}}function p(t){return{width:"100%",disable_search:"true"===t.attr("data-disable-search"),allow_single_deselect:"true"===t.attr("data-allow-single-deselect"),no_results_text:"Oops, nothing found!"}}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,s=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){s=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d=new Map;function f(t,e){var r=e.attr("id"),n=window.growtype_post.wrappers[r].filter_url_params_prefix,o=e.find(".growtype-post-terms-filters").attr("data-selections-included-in-url");if(o=!!o){var a=new URLSearchParams(window.location.search),i=new Map;a.forEach((function(t,e){e.startsWith(n)||i.set(e,t)})),Object.entries(t).forEach((function(t){var e=c(t,2),r=e[0],o=e[1],a=n+encodeURIComponent(r),s=encodeURIComponent(o);$('.growtype-post-terms-filter[data-type="'+r+'"][data-init-cat="'+o+'"]').length>0||i.set(a,s)})),r&&i.set("gpwid",encodeURIComponent(r));var s=[];if(i.forEach((function(t,e){s.push("".concat(e,"=").concat(t))})),s.length>0){var p="".concat(window.location.pathname),l=s.join("&");p="".concat(window.location.pathname,"?").concat(l)+window.location.hash,setTimeout((function(){window.history.replaceState({},"",p)}),500)}}}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,s=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){s=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g(t){if($(t).find(".growtype-post-custom-filters").length>0&&0===$(t).find("select.growtype-post-custom-filters").next(".chosen-container").length&&$(t).find("select.growtype-post-custom-filter").each((function(t,e){$(e).chosen(p($(e)))})),$(t).find(".growtype-post-custom-filters").length>0){var e=function(t){var e={};t.find(".growtype-post-custom-filters-single").map((function(t,r){var n="";n=$(r).find("select").length>0?$(r).find("select").val():$(r).find("input").val(),e[$(r).attr("data-name")]={value:n,ajax:"true"===$(r).attr("data-ajax")}}));var r=!1;if(Object.entries(e).map((function(e,n){var o=e[0];t.find(".growtype-post-container .growtype-post-single").attr("data-cat-"+o)&&(r=!0)})),r){console.log("Growtype post - Custom filtering is applied"),t.find(".gp-actions-wrapper").hide();var n=$(t).find(".growtype-post-single");n.show(),n.each((function(t,r){var n=$(r),o=[];Object.entries(e).forEach((function(t){var e=u(t,2),r=e[0],a=e[1].value.toLowerCase(),i=n.attr("data-cat-"+r);i=i?(i=i.toLowerCase()).includes(",")?i.split(","):[i]:[],"search"===r&&0===a.length||"all"===a||"search"===r&&i.some((function(t){return t.includes(a)}))||i.includes(a)?o[r]=!0:o[r]=!1}));var a=!0;Object.entries(o).map((function(t,e){t[1]||(a=!1)})),a||n.hide()}))}var o={};if(Object.entries(e).map((function(t,e){t[1].ajax&&(o[t[0]]=t[1].value)})),Object.entries(o).length>0){t.find(".gp-actions-wrapper").hide(),t.find(".growtype-post-container").html("");var a=t.attr("data-args");a=a?JSON.parse(a):{},Object.entries(o).map((function(t,e){a[t[0]]=t[1]}));var s={};s.btn=t.find(".btn-loadmore"),s.posts_container=t.find(".growtype-post-container"),i(s,a)}var p={};Object.entries(e).map((function(t,e){p[t[0]]=t[1].value})),f(p,t)};$(t).find(".growtype-post-custom-filters .growtype-post-custom-filters-single input").on("input",(function(t){var r=$(this).closest(".growtype-post-container-wrapper");setTimeout((function(){e(r)}),500)})),$(t).find(".growtype-post-custom-filters .growtype-post-custom-filters-single select").on("change",(function(t){var r=$(this).closest(".growtype-post-container-wrapper");setTimeout((function(){e(r)}),500)}))}}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,s=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){s=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m(t){var e=new URLSearchParams(window.location.search),r={};if(!window.growtype_post.wrappers[t])return{};var n,o=window.growtype_post.wrappers[t].filter_url_params_prefix,a={},i=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=v(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(e.entries());try{for(i.s();!(n=i.n()).done;){var s=y(n.value,2),p=s[0],c=s[1];p.startsWith(o)&&(a[p=p.replace(o,"")]=c.split(","))}}catch(t){i.e(t)}finally{i.f()}if(Object.entries(a).length>0){var l=$('.growtype-post-container-wrapper[id="'+t+'"]');Object.entries(a).forEach((function(t){var e=y(t,2),n=e[0],o=e[1];if(l.length>0){var a=$(l).find(".growtype-post-terms-filter-btn[data-cat-"+n+"]"),i=$(l).find('.growtype-post-custom-filters-single[data-name="'+n+'"]');(a.length>0||i.length>0)&&(r[n]=o)}else r[n]=o}))}return r}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,s=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){s=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j(t){var e=m($(t).attr("id"));Object.entries(e).map((function(e){var r=$(t).find('select.growtype-post-terms-filter[data-type="'+e[0]+'"]');if(r.length>0){var n=[];e[1].forEach((function(t){var o=r.find("option[data-cat-"+e[0]+'="'+t+'"]').val();o&&n.push(o)})),r.val(n)}var o=$(t).find('select.growtype-post-custom-filter[name="'+e[0]+'"]');if(o.length>0){var a=[];e[1].forEach((function(t){var e=o.find('option[value="'+t+'"]').val();e&&a.push(e)})),o.val(a)}})),Object.entries(e).length>0&&($(t).find(".growtype-post-terms-filter-btn").removeClass("is-active"),Object.entries(e).forEach((function(e){var r=_(e,2),n=r[0];r[1].forEach((function(e){var r=$(t).find(".growtype-post-terms-filter-btn[data-cat-"+n+'="'+e+'"]');r.length>0&&r.addClass("is-active")}))})))}function O(t,e,r){var n=e,o=$(t).attr("id");if(-1===n)n=99999;else{var a="";Object.entries(r).map((function(t,e){var r=t[0].toString(),n=t[1].toString();a+=r+"_"+n+"_"})),void 0!==window.growtype_post.wrappers[o].terms_filter[a]&&(n=parseInt(window.growtype_post.wrappers[o].terms_filter[a].visible))}return n}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,s=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){s=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S(e){var r,a=$(e).attr("id"),s=a+"-f-visible",c=m(a);$(e).find(".growtype-post-filters-visibility-trigger").click((function(){var t=new URL(window.location),e=$(this).closest(".growtype-post-filters-wrapper");"1"===e.attr("data-filters-visible")?(e.attr("data-filters-visible","0"),t.searchParams.delete(s)):(e.attr("data-filters-visible","1"),t.searchParams.set(s,"1")),window.history.replaceState(null,"",t)})),"1"===new URLSearchParams(window.location.search).get(s)&&(null===(r=$(e).find(".growtype-post-filters-visibility-trigger"))||void 0===r||r.click()),$(document).ready((function(){$(e).find(".growtype-post-terms-filter").length>0&&0===$(e).find("select.growtype-post-terms-filter").next(".chosen-container").length&&$(e).find("select.growtype-post-terms-filter").each((function(t,e){$(e).chosen(p($(e)))}))})),$(e).find(".growtype-post-terms-filter").on("change",(function(r){var n=$(r.target).closest(".growtype-post-container-wrapper"),o=$(r.target).closest(".growtype-post-terms-filters"),a=n.find(".growtype-post-container").attr("data-visible-posts");a=parseInt(a),$(e).find('.growtype-post-terms-filter[data-type="'+$(r.target).attr("data-type")+'"]').find(".growtype-post-terms-filter-btn").removeClass("is-active"),$(r.target).find("option:selected").each((function(t,n){var o=$(r.target).attr("data-type"),a=$(n).attr("data-cat-"+o),i=$(e).find(".growtype-post-terms-filter-btn[data-cat-"+o+'="'+a+'"]');i.length>0&&i.addClass("is-active")})),w($(r.target).find("option"));var i=t(o);f(i,o.closest(".growtype-post-container-wrapper")),y(n,i,O(e,a,i),a)}));var l=!1;function d(r){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(r.attr("data-disabled")&&n||0===r.length)){var o=r.attr("data-trigger-type"),a=r.attr("data-multiple-select");if("click"!==o||!r.hasClass("is-active")||!n){var i=r.closest(".growtype-post-container-wrapper"),s=r.closest(".growtype-post-terms-filters"),p=i.find(".growtype-post-container").attr("data-visible-posts");p=parseInt(p),u(r,o,a).then((function(){w(r,!r.hasClass("is-active")).then((function(){var r=t(s);f(r,s.closest(".growtype-post-container-wrapper"));var n=O(e,p,r);y(i,r,n,p)}))}))}}}function u(t,e,r){return new Promise((function(n){var o=$(t).closest(".growtype-post-container-wrapper");$.each(t[0].attributes,(function(n,a){if(a.name.startsWith("data-cat")){var i=a.name.replace("data-cat-","");"toggle"===e?t.hasClass("is-active")?t.removeClass("is-active"):("false"===r&&o.find('.growtype-post-terms-filters-single[data-type="'+i+'"]').find(".growtype-post-terms-filter-btn").removeClass("is-active"),t.addClass("is-active")):(o.find('.growtype-post-terms-filters-single[data-type="'+i+'"]').find(".growtype-post-terms-filter-btn").removeClass("is-active"),t.addClass("is-active"))}})),n()}))}function w(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(r){var n={};$.each(t,(function(t,r){var o=$(r);$.each(r.attributes,(function(t,r){if(r.name.startsWith("data-cat")){var a=r.name.replace("data-cat-",""),i="";o.is(":selected")&&!e&&(i=o.val()),n[a]||(n[a]=[]),(i||e)&&n[a].push(i)}}))})),g(n),r()}))}function g(t){$.each(t,(function(t,e){var r=$('select[data-type="'+t+'"]');if(0!==r.length)if(r.prop("multiple")){var n=e.filter((function(t){return t}));r.val(n.length?n:[]),r.next().hasClass("chosen-container")&&r.trigger("chosen:updated")}else{var o=e[0]||"";r.val(o),r.next().hasClass("chosen-container")&&r.trigger("chosen:updated")}else console.warn("No select element found for key: ".concat(t))}))}function y(t,e,r,s){var p=t.find(".growtype-post-terms-filters:visible"),c=t.find(".growtype-post-container").attr("data-loading-type"),l=t.find(".growtype-post-single");l.parent().hasClass("growtype-post-container")||(l=l.parent()),l.fadeOut().promise().done((function(){n(t,e,r);var l=o(p);if(window.growtype_post.wrappers[a].loaded_posts&&window.growtype_post.wrappers[a].loaded_posts[l]?t.find(".gp-actions-wrapper").fadeOut():"ajax"===c&&t.find(".gp-actions-wrapper").fadeIn(),"ajax"===c&&t.find(".btn-loadmore:visible").length>0){var d=s-t.find(".growtype-post-single:visible").length;if(d>0){var f=t.closest(".growtype-post-container-wrapper").attr("data-args");(f=f?JSON.parse(f):{}).amount_to_load=d,f.amount_to_show=d,f.selected_terms_navigation_values=Object.assign({},e),t.find('select.growtype-post-custom-filter[name="orderby"]').length>0&&(f.orderby=t.find('select.growtype-post-custom-filter[name="orderby"]').val());var u={};u.filters_container=p,u.btn=t.find(".btn-loadmore"),u.posts_container=t.find(".growtype-post-container"),i(u,f)}}document.dispatchEvent(new CustomEvent("growtypePostTermsFilterContent",{detail:{wrapper:t}}))}))}$(e).find(".growtype-post-terms-filter-btn").click((function(){l||(l=!0,d($(this)),setTimeout((function(){l=!1}),500))})),$(e).find(".growtype-post-terms-filter").each((function(t,e){var r;0===Object.entries(c).length?r=$(e).find(".growtype-post-terms-filter-btn[data-cat-"+$(e).attr("data-type")+'="'+$(e).attr("data-init-cat")+'"]'):Object.entries(c).forEach((function(t){var n=x(t,2),o=n[0],a=n[1],i=$(e).find(".growtype-post-terms-filter-btn[data-cat-"+o+'="'+a+'"]');i.length>0&&(r=i)})),""!==$(this).attr("data-init-cat")&&$(e).is(":visible")&&($(e).is("select")?$(e).trigger("change"):$(e).is("div")&&d(r,!1))}))}function A(t){window.growtype_post.wrappers[t]={},window.growtype_post.wrappers[t].terms_filter=[],window.growtype_post.wrappers[t].filter_url_params_prefix=t+"-s_"}function E(t){document.addEventListener("growtypePostAjaxLoadContent",(function(t){!function(t){var r=$(t).attr("id");if(!e&&$(t).find(".gp-actions-wrapper .btn-loadmore").length>0){var n=$(t).attr("data-args");(n=n?JSON.parse(n):"").infinite_load_posts&&(e=!0,window.growtype_post.wrappers[r].load_more_initiated=!1,window.addEventListener("scroll",(function(){var e=$(t).find(".gp-actions-wrapper .btn-loadmore");!function(t){if(0===t.length)return!1;var e=t.offset().top,r=e+t.outerHeight(),n=$(window).scrollTop(),o=n+$(window).height()+400;return r>n&&e<o}(e)?window.growtype_post.wrappers[r].load_more_initiated=!1:window.growtype_post.wrappers[r].load_more_initiated||(window.growtype_post.wrappers[r].load_more_initiated=!0,e.trigger("click"))})))}}(t.detail.wrapper)}));var e=!1}function k(){$(".growtype-post-ajax-load-content").each((function(t,e){var r=$(this),n=r.attr("data-args"),o=(n=n?JSON.parse(n):"").parent_id;A(o);var a=r.closest(".wp-block-growtype-post"),i=m(o);n.selected_terms_navigation_values=i,i.orderby&&(n.orderby=i.orderby[0]),$('a[data-growtype-post-load-more="'+n.parent_id+'"]').hide(),$(window).width()<=570&&n.posts_per_page_mobile&&(n.posts_per_page=n.posts_per_page_mobile),n&&jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"growtype_post_ajax_load_content",args:n},success:function(t){if(t.data.render){var e=$(t.data.render),r=a.html(e).find(".growtype-post-container-wrapper");S(r),s(r.find(".btn-loadmore")),$('a[data-growtype-post-load-more="'+n.parent_id+'"]').show(),j(r),parseInt(t.data.posts_amount)!==parseInt(n.posts_per_page)&&r.find(".gp-actions-wrapper").hide(),E(),document.dispatchEvent(new CustomEvent("growtypePostAjaxLoadContent",{detail:{response:t,wrapper:r}}))}}})})),document.addEventListener("growtypePostAjaxLoadContent",(function(t){g(t.detail.wrapper)}))}function I(t){function e(){r($(t).find(".growtype-post-btn-like")),n($(t).find(".growtype-post-btn-share"))}function r(t){t.each((function(t,e){"true"!==$(e).attr("data-loaded")&&($(e).attr("data-loaded",!0),function(t){t.click((function(){var t=$(this),e=t.find("a");if(void 0!==t.attr("data-type")||!(void 0===e.attr("data-type")||void 0!==e.attr("href")&&e.attr("href").length>0)){event.preventDefault(),t.hasClass("is-active")&&t.closest(".growtype-post-liked-posts-container-wrapper").length>0&&t.closest(".growtype-post-single").fadeOut(),$(this).toggleClass("is-active");var r=void 0!==e?e.attr("data-type"):t.attr("data-type"),n=void 0!==t.attr("data-id")?t.attr("data-id"):growtype_post.post_id;jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"growtype_post_like_post",post_id:n,data_type:r},success:function(e){t.find(".e-amount").remove(),e.data.likes>0&&t.prepend('<span class="e-amount">'+e.data.likes+"</span>")}})}}))}($(e)))}))}function n(t){t.click((function(){var t=$(this).find("a");if(void 0!==$(this).attr("data-type")||!(void 0===t.attr("data-type")||void 0!==t.attr("href")&&t.attr("href").length>0)){event.preventDefault(),$(this).toggleClass("is-active");var e=void 0!==t?t.attr("data-type"):$(this).attr("data-type"),r=void 0!==$(this).attr("data-id")?$(this).attr("data-id"):growtype_post.post_id;jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"share_post",post_id:r,data_type:e},success:function(e){var r="https://www.facebook.com/sharer/sharer.php?u="+e.data.share_url;setTimeout((function(){window.open(r,"_blank")})),t&&t.attr("href",r).attr("target","_blank")}})}}))}e(),document.addEventListener("growtypePostAjaxLoadContent",(function(t){e()})),document.addEventListener("growtypePostAjaxLoadMoreContent",(function(t){var e=JSON.parse(t.detail.args.existing_posts_ids);$(".growtype-post-single").each((function(t,o){e.includes($(o).attr("data-id"))||(r($(o).find(".growtype-post-btn-like")),n($(o).find(".growtype-post-btn-share")))}))}))}document.addEventListener("DOMContentLoaded",(function(t){new URLSearchParams(window.location.search).forEach((function(t,e){d.set(e,t)}))})),jQuery(document).ready((function(){k()})),jQuery(".growtype-post-container-wrapper").each((function(t,e){A(jQuery(e).attr("id")),s(jQuery(e).find("a[data-growtype-post-load-more]")),s(jQuery(e).find(".gp-actions-wrapper .btn-loadmore")),function(t){var e=$(t).attr("id");function r(t){window.growtype_post.wrappers[e].last_visible_posts=$(t).find(".growtype-post-container .growtype-post-single:visible")}g(t),r(t),["growtypePostTermsFilterContent","growtypePostAjaxLoadMoreContent","growtypePostAjaxLoadContent"].forEach((function(t){return document.addEventListener(t,(function(t){r(t.detail.wrapper)}),!1)}))}(e),j(e),S(e),I(e),E()}))},217:function(){},805:function(){}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var a=r[t]={exports:{}};return e[t](a,a.exports,n),a.exports}n.m=e,t=[],n.O=function(e,r,o,a){if(!r){var i=1/0;for(l=0;l<t.length;l++){r=t[l][0],o=t[l][1],a=t[l][2];for(var s=!0,p=0;p<r.length;p++)(!1&a||i>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[p])}))?r.splice(p--,1):(s=!1,a<i&&(i=a));if(s){t.splice(l--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[r,o,a]},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={67:0,529:0,290:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,i=r[0],s=r[1],p=r[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(p)var l=p(n)}for(e&&e(r);c<i.length;c++)a=i[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(l)},r=self.webpackChunkplugin=self.webpackChunkplugin||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),n.O(void 0,[529,290],(function(){return n(933)})),n.O(void 0,[529,290],(function(){return n(217)}));var o=n.O(void 0,[529,290],(function(){return n(805)}));o=n.O(o)}();
//# sourceMappingURL=growtype-post.js.map