!function(){"use strict";var t,e={445:function(){function t(t){var e=[],a=t.find(".chosen-container:visible").length>0,o=".growtype-post-terms-filter-btn:visible, select option";return a||(o=".growtype-post-terms-filter-btn:visible, select:visible option"),t.find(o).each((function(t,o){var r=$(o).hasClass("is-active")||$(o).is(":selected")&&$(o).closest("select").next(".chosen-container:visible").length>0;a||(r=$(o).hasClass("is-active")||$(o).is(":selected")),r&&$(this).each((function(t){$.each(this.attributes,(function(t,a){if(0===a.name.indexOf("data-cat")){var r=a.name.replace("data-cat-",""),i=$(o).attr("data-cat-"+r);if("none"===i)return;void 0===e[r]?e[r]=[i]:e[r].push(i)}}))}))})),e}var e=new Event("growtypePostLoadPosts");function a(t,a,o){var r=0,i=0;t.find(".growtype-post-single").each((function(t,e){var s=!0;Object.entries(a).map((function(t,a){var o=t[0].toString(),r=t[1].toString();"all"!==r&&void 0!==r&&""!==r&&$(e).attr("data-cat-"+o)!==r&&(s=!1)})),s&&i++,r<o&&s&&(r++,$(e).fadeIn())}));var s=t.find(".growtype-post-container").attr("id"),n=$('a[data-growtype-post-load-more="'+s+'"]');0===n.length&&(n=t.find(".wp-block-button")),r===i?n.closest(".wp-block-button").hide():n.closest(".wp-block-button").fadeIn(),document.dispatchEvent(e)}function o(){$(".growtype-post-terms-filter").on("change",(function(e){var o=$(e.target).closest(".wp-block-growtype-post"),i=$(e.target).closest(".growtype-post-terms-filters"),s=o.find(".growtype-post-container").attr("data-visible-posts");s=parseInt(s);var n=t(i),p=r(s,n);o.find(".growtype-post-single").fadeOut().promise().done((function(){a(o,n,p)}))})),$(".growtype-post-terms-filter-btn").click((function(){var e=$(this).attr("data-trigger-type"),o=$(this).attr("data-multiple-select");if("click"!==e||!$(this).hasClass("is-active")){var i=$(this).closest(".wp-block-growtype-post"),s=$(this).closest(".growtype-post-terms-filters"),n=$(this).closest(".growtype-post-terms-filter"),p=i.find(".growtype-post-container").attr("data-visible-posts");p=parseInt(p),"toggle"===e?$(this).hasClass("is-active")?$(this).removeClass("is-active"):("false"===o&&n.find(".growtype-post-terms-filter-btn").removeClass("is-active"),$(this).addClass("is-active")):(n.find(".growtype-post-terms-filter-btn").removeClass("is-active"),$(this).addClass("is-active"));var c=t(s),l=r(p,c);i.find(".growtype-post-single").fadeOut().promise().done((function(){a(i,c,l)}))}})),$(".growtype-post-terms-filter").each((function(t,e){""!==$(this).attr("data-init-cat")&&$(e).is(":visible")&&($(e).is("select")?$(e).trigger("change"):$(e).is("div")&&$(".growtype-post-terms-filter-btn[data-cat-"+$(e).attr("data-type")+'="'+$(e).attr("data-init-cat")+'"]').trigger("click"))}))}function r(t,e){var a=t,o="";return Object.entries(e).map((function(t,e){var a=t[0].toString(),r=t[1].toString();o+=a+"_"+r+"_"})),void 0!==window.growtype_post.terms_filter[o]&&(a=parseInt(window.growtype_post.terms_filter[o].visible)),a}function i(){$(".growtype-post-btn-like").click((function(){var t=$(this),e=t.find("a");if(void 0!==$(this).attr("data-type")||!(void 0===e.attr("data-type")||void 0!==e.attr("href")&&e.attr("href").length>0)){event.preventDefault(),$(this).toggleClass("is-active");var a=void 0!==e?e.attr("data-type"):$(this).attr("data-type"),o=void 0!==$(this).attr("data-id")?$(this).attr("data-id"):growtype_post.post_id;jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"like_post",post_id:o,data_type:a},success:function(e){t.find(".e-amount").remove(),e.likes>0&&t.prepend('<span class="e-amount">'+e.likes+"</span>")}})}})),$(".growtype-post-btn-share").click((function(){var t=$(this).find("a");if(void 0!==$(this).attr("data-type")||!(void 0===t.attr("data-type")||void 0!==t.attr("href")&&t.attr("href").length>0)){event.preventDefault(),$(this).toggleClass("is-active");var e=void 0!==t?t.attr("data-type"):$(this).attr("data-type"),a=void 0!==$(this).attr("data-id")?$(this).attr("data-id"):growtype_post.post_id;jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"share_post",post_id:a,data_type:e},success:function(e){var a="https://www.facebook.com/sharer/sharer.php?u="+e.share_url;setTimeout((function(){window.open(a,"_blank")})),t&&t.attr("href",a).attr("target","_blank")}})}}))}$=jQuery,window.growtype_post.terms_filter=[],$("a[data-growtype-post-load-more]").click((function(){var e=$(this),o=e.attr("data-growtype-post-load-more"),r=$("#"+o+".growtype-post-container");if(0===r.length&&(r=e.closest(".growtype-post-container")),r){var i=r.attr("data-loading-type"),s=void 0===e.attr("data-growtype-post-load-more-amount")?r.attr("data-visible-posts"):e.attr("data-growtype-post-load-more-amount"),n=s=parseInt(s);if("limited"===i){var p=s+n,c=t(r.closest(".wp-block-growtype-post").find(".growtype-post-terms-filters")),l="";Object.entries(c).map((function(t,e){var a=t[0].toString(),o=t[1].toString();l+=a+"_"+o+"_"})),void 0!==window.growtype_post.terms_filter[l]&&(p=parseInt(window.growtype_post.terms_filter[l].visible)+n),window.growtype_post.terms_filter[l]={visible:p},a(r.closest(".wp-block-growtype-post"),c,p)}}})),o(),i(),$(document).ready((function(){$(".growtype-post-ajax-load-content").each((function(t,e){var a=$(this),r=a.closest(".wp-block-growtype-post"),s=a.attr("data-args");s=s?JSON.parse(s):"",$('a[data-growtype-post-load-more="'+s.parent_id+'"]').hide(),s&&jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"ajax_load_content",args:s},success:function(t){r.html(t.render),$('a[data-growtype-post-load-more="'+s.parent_id+'"]').show(),o(),i(),document.dispatchEvent(new CustomEvent("growtypePostAjaxLoadContent",{detail:t}))}})}))}))},217:function(){},805:function(){}},a={};function o(t){var r=a[t];if(void 0!==r)return r.exports;var i=a[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.m=e,t=[],o.O=function(e,a,r,i){if(!a){var s=1/0;for(l=0;l<t.length;l++){a=t[l][0],r=t[l][1],i=t[l][2];for(var n=!0,p=0;p<a.length;p++)(!1&i||s>=i)&&Object.keys(o.O).every((function(t){return o.O[t](a[p])}))?a.splice(p--,1):(n=!1,i<s&&(s=i));if(n){t.splice(l--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[a,r,i]},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={67:0,529:0,290:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,i,s=a[0],n=a[1],p=a[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(r in n)o.o(n,r)&&(o.m[r]=n[r]);if(p)var l=p(o)}for(e&&e(a);c<s.length;c++)i=s[c],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(l)},a=self.webpackChunkplugin=self.webpackChunkplugin||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}(),o.O(void 0,[529,290],(function(){return o(445)})),o.O(void 0,[529,290],(function(){return o(217)}));var r=o.O(void 0,[529,290],(function(){return o(805)}));r=o.O(r)}();
//# sourceMappingURL=growtype-post.js.map