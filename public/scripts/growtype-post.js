!function(){"use strict";var t,e={445:function(){function t(t){var e=[],a=t.find(".chosen-container:visible").length>0,o=".growtype-post-terms-filter-btn:visible, select option";return a||(o=".growtype-post-terms-filter-btn:visible, select:visible option"),t.find(o).each((function(t,o){var r=$(o).hasClass("is-active")||$(o).is(":selected")&&$(o).closest("select").next(".chosen-container:visible").length>0;a||(r=$(o).hasClass("is-active")||$(o).is(":selected")),r&&$(this).each((function(t){$.each(this.attributes,(function(t,a){if(0===a.name.indexOf("data-cat")){var r=a.name.replace("data-cat-",""),i=$(o).attr("data-cat-"+r);if("none"===i)return;void 0===e[r]?e[r]=[i]:e[r].push(i)}}))}))})),e}var e=new Event("growtypePostLoadPosts");function a(t,a,o){var r=0,i=0;t.find(".growtype-post-single").each((function(t,e){var s=!0;Object.entries(a).map((function(t,a){var o=t[0].toString(),r=t[1].toString();if("all"!==r&&void 0!==r&&""!==r){var i=!1;void 0!==$(e).attr("data-cat-"+o)&&$(e).attr("data-cat-"+o).split(",").forEach((function(t){t.trim()===r&&(i=!0)})),i||(s=!1)}})),s&&i++,r<o&&s&&(r++,$(e).fadeIn())}));var s=t.find(".growtype-post-container").attr("id"),n=$('a[data-growtype-post-load-more="'+s+'"]');0===n.length&&(n=t.find(".wp-block-button")),0===n.length&&(n=t.find(".gp-actions-wrapper .btn-loadmore")),r===i?n.closest(".wp-block-button,.gp-actions-wrapper").hide():n.closest(".wp-block-button,.gp-actions-wrapper").fadeIn(),document.dispatchEvent(e)}function o(e){var o=!1;e.click((function(e){if(e.preventDefault(),!o){o=!0;var r=$(this),i=r.attr("data-growtype-post-load-more"),s=$("#"+i+".growtype-post-container");if(0===s.length&&(s=r.closest(".growtype-post-container")),0===s.length&&(s=r.closest(".growtype-post-container-wrapper").find(".growtype-post-container")),s){var n=s.attr("data-loading-type"),p=void 0===r.attr("data-growtype-post-load-more-amount")?s.attr("data-visible-posts"):r.attr("data-growtype-post-load-more-amount"),d=p=parseInt(p),c=p+d,l=t(s.closest(".wp-block-growtype-post").find(".growtype-post-terms-filters")),f=[];if(s.find(".growtype-post-single-inner").each((function(){f.push($(this).attr("data-id"))})),"limited"===n){var u="";Object.entries(l).map((function(t,e){var a=t[0].toString(),o=t[1].toString();u+=a+"_"+o+"_"})),void 0!==window.growtype_post.terms_filter[u]&&(c=parseInt(window.growtype_post.terms_filter[u].visible)+d),window.growtype_post.terms_filter[u]={visible:c},a(s.closest(".wp-block-growtype-post"),l,c),o=!1}else if("ajax"===n){var g=r.text();r.addClass("is-loading"),r.text(""),r.append('<span class="spinner-border"></span>'),jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"growtype_post_load_more_posts",existing_posts_ids:JSON.stringify(f),amount_to_load:d,amount_to_show:c,filter_params:JSON.stringify(Object.assign({},l)),preview_style:s.closest(".growtype-post-container-wrapper").attr("data-preview-style")},success:function(t){t.data.render&&(s.append(t.data.render),r.removeClass("is-loading"),r.find(".spinner-border").remove(),r.text(g)),o=!1},error:function(){o=!1}})}}}}))}function r(){$(".growtype-post-terms-filter").on("change",(function(e){var o=$(e.target).closest(".wp-block-growtype-post"),r=$(e.target).closest(".growtype-post-terms-filters"),s=o.find(".growtype-post-container").attr("data-visible-posts");s=parseInt(s);var n=t(r),p=i(s,n);o.find(".growtype-post-single").fadeOut().promise().done((function(){a(o,n,p)}))})),$(".growtype-post-terms-filter-btn").click((function(){if(!$(this).attr("data-disabled")){var e=$(this).attr("data-trigger-type"),o=$(this).attr("data-multiple-select");if("click"!==e||!$(this).hasClass("is-active")){var r=$(this).closest(".wp-block-growtype-post"),s=$(this).closest(".growtype-post-terms-filters"),n=$(this).closest(".growtype-post-terms-filter"),p=r.find(".growtype-post-container").attr("data-visible-posts");p=parseInt(p),"toggle"===e?$(this).hasClass("is-active")?$(this).removeClass("is-active"):("false"===o&&n.find(".growtype-post-terms-filter-btn").removeClass("is-active"),$(this).addClass("is-active")):(n.find(".growtype-post-terms-filter-btn").removeClass("is-active"),$(this).addClass("is-active"));var d=t(s),c=i(p,d);r.find(".growtype-post-single").fadeOut().promise().done((function(){a(r,d,c)}))}}})),$(".growtype-post-terms-filter").each((function(t,e){""!==$(this).attr("data-init-cat")&&$(e).is(":visible")&&($(e).is("select")?$(e).trigger("change"):$(e).is("div")&&$(".growtype-post-terms-filter-btn[data-cat-"+$(e).attr("data-type")+'="'+$(e).attr("data-init-cat")+'"]').trigger("click"))}))}function i(t,e){var a=t,o="";return Object.entries(e).map((function(t,e){var a=t[0].toString(),r=t[1].toString();o+=a+"_"+r+"_"})),void 0!==window.growtype_post.terms_filter[o]&&(a=parseInt(window.growtype_post.terms_filter[o].visible)),a}function s(){$(".growtype-post-btn-like").click((function(){var t=$(this),e=t.find("a");if(void 0!==$(this).attr("data-type")||!(void 0===e.attr("data-type")||void 0!==e.attr("href")&&e.attr("href").length>0)){event.preventDefault(),$(this).toggleClass("is-active");var a=void 0!==e?e.attr("data-type"):$(this).attr("data-type"),o=void 0!==$(this).attr("data-id")?$(this).attr("data-id"):growtype_post.post_id;jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"like_post",post_id:o,data_type:a},success:function(e){t.find(".e-amount").remove(),e.data.likes>0&&t.prepend('<span class="e-amount">'+e.data.likes+"</span>")}})}})),$(".growtype-post-btn-share").click((function(){var t=$(this).find("a");if(void 0!==$(this).attr("data-type")||!(void 0===t.attr("data-type")||void 0!==t.attr("href")&&t.attr("href").length>0)){event.preventDefault(),$(this).toggleClass("is-active");var e=void 0!==t?t.attr("data-type"):$(this).attr("data-type"),a=void 0!==$(this).attr("data-id")?$(this).attr("data-id"):growtype_post.post_id;jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"share_post",post_id:a,data_type:e},success:function(e){var a="https://www.facebook.com/sharer/sharer.php?u="+e.data.share_url;setTimeout((function(){window.open(a,"_blank")})),t&&t.attr("href",a).attr("target","_blank")}})}}))}$=jQuery,window.growtype_post.terms_filter=[],o($("a[data-growtype-post-load-more]")),o($(".gp-actions-wrapper .btn-loadmore")),r(),s(),$(document).ready((function(){$(".growtype-post-ajax-load-content").each((function(t,e){var a=$(this),i=a.closest(".wp-block-growtype-post"),n=a.attr("data-args");n=n?JSON.parse(n):"",$('a[data-growtype-post-load-more="'+n.parent_id+'"]').hide(),n&&jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"growtype_post_ajax_load_content",args:n},success:function(t){if(t.data.render){var e=$(t.data.render);i.html(e),r(),s(),o(e.find(".btn-loadmore")),$('a[data-growtype-post-load-more="'+n.parent_id+'"]').show(),document.dispatchEvent(new CustomEvent("growtypePostAjaxLoadContent",{detail:t}))}}})}))}))},217:function(){},805:function(){}},a={};function o(t){var r=a[t];if(void 0!==r)return r.exports;var i=a[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.m=e,t=[],o.O=function(e,a,r,i){if(!a){var s=1/0;for(c=0;c<t.length;c++){a=t[c][0],r=t[c][1],i=t[c][2];for(var n=!0,p=0;p<a.length;p++)(!1&i||s>=i)&&Object.keys(o.O).every((function(t){return o.O[t](a[p])}))?a.splice(p--,1):(n=!1,i<s&&(s=i));if(n){t.splice(c--,1);var d=r();void 0!==d&&(e=d)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[a,r,i]},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={67:0,529:0,290:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,i,s=a[0],n=a[1],p=a[2],d=0;if(s.some((function(e){return 0!==t[e]}))){for(r in n)o.o(n,r)&&(o.m[r]=n[r]);if(p)var c=p(o)}for(e&&e(a);d<s.length;d++)i=s[d],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(c)},a=self.webpackChunkplugin=self.webpackChunkplugin||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}(),o.O(void 0,[529,290],(function(){return o(445)})),o.O(void 0,[529,290],(function(){return o(217)}));var r=o.O(void 0,[529,290],(function(){return o(805)}));r=o.O(r)}();
//# sourceMappingURL=growtype-post.js.map