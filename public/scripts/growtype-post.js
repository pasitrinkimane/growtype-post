!function(){"use strict";var t,e={572:function(){function t(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,s=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){s=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}(t,r)||function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r(e){var r=[],n=e.find(".chosen-container:visible").length>0,o=".growtype-post-terms-filter-btn:visible, select option";return n||(o=".growtype-post-terms-filter-btn:visible, select:visible option"),e.find(o).each((function(t,e){var o=$(e).hasClass("is-active")||$(e).is(":selected")&&$(e).closest("select").next(".chosen-container:visible").length>0;n||(o=$(e).hasClass("is-active")||$(e).is(":selected")),o&&$(this).each((function(t){$.each(this.attributes,(function(t,n){if(0===n.name.indexOf("data-cat")){var o=n.name.replace("data-cat-",""),a=$(e).attr("data-cat-"+o);if("none"===a)return;void 0===r[o]?r[o]=[a]:r[o].push(a)}}))}))})),function(e,r){var n=[],o=r.attr("id");Object.entries(e).forEach((function(e){var r=t(e,2),o=r[0],a=r[1],i=encodeURIComponent(o),s=encodeURIComponent(a);n.push("".concat(i,"=").concat(s))}));var a=n.join("&");o&&(a="gpcid=".concat(encodeURIComponent(o),"&").concat(a));var i="".concat(window.location.pathname,"?").concat(a);window.history.replaceState({},"",i)}(r,e.closest(".growtype-post-container-wrapper")),r}var n=new Event("growtypePostLoadPosts");function o(t,e,r){var o=t.find(".growtype-post-container").attr("data-loading-type"),a=0,i=0;t.find(".growtype-post-single").each((function(t,n){var s=!0;Object.entries(e).map((function(t,e){var r=t[0].toString(),o=t[1].toString();if("all"!==o&&void 0!==o&&""!==o){var a=$(n).attr("data-cat-"+r);if(void 0!==a&&!1!==a){var i=!1;$(n).attr("data-cat-"+r).split(",").forEach((function(t){t.trim()===o&&(i=!0)})),i||(s=!1)}}})),s&&i++,("ajax"===o||a<r)&&s&&(a++,$(n).fadeIn())}));var s=t.find(".growtype-post-container").attr("id"),p=$('a[data-growtype-post-load-more="'+s+'"]');0===p.length&&(p=t.find(".wp-block-button")),0===p.length&&(p=t.find(".gp-actions-wrapper .btn-loadmore")),"ajax"!==o&&(a===i?p.closest(".wp-block-button, .gp-actions-wrapper").hide():p.closest(".wp-block-button, .gp-actions-wrapper").fadeIn()),document.dispatchEvent(n)}function a(t){var e=r(t),n="";return Object.entries(e).map((function(t,e){var r=t[0],o=t[1].toString();n+=r+"_"+o+"_"})),n}function i(t){var e=t.btn||null,r=null;e&&(r=e.text(),e.addClass("is-loading"),e.text(""),e.append('<span class="spinner-border"></span>')),void 0===t.existing_posts_ids&&(t.existing_posts_ids=[],t.posts_container.find(".growtype-post-single-inner").each((function(){t.existing_posts_ids.push($(this).attr("data-id"))}))),jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"growtype_post_load_more_posts",existing_posts_ids:JSON.stringify(t.existing_posts_ids),amount_to_load:t.amount_to_load,amount_to_show:t.amount_to_show,selected_terms_navigation_values:Object.assign({},t.selected_terms_navigation_values),preview_style:t.posts_container.closest(".growtype-post-container-wrapper").attr("data-preview-style"),content_url_cache:t.posts_container.closest(".growtype-post-container-wrapper").attr("data-content-url-cache"),content_source:t.posts_container.closest(".growtype-post-container-wrapper").attr("data-content-source")},success:function(n){if(n.data.render&&t.posts_container.append(n.data.render),!n.data.render||n.data.posts_amount!==t.amount_to_load){t.btn.closest(".gp-actions-wrapper").hide();var o=a(t.filters_container);void 0===window.growtype_post.loaded_posts&&(window.growtype_post.loaded_posts={}),window.growtype_post.loaded_posts[o]=!0}e&&(e.removeClass("is-loading"),e.find(".spinner-border").remove(),e.text(r)),window.growtype_post_load_more_posts_btn_clicked=!1},error:function(){window.growtype_post_load_more_posts_btn_clicked=!1}})}function s(t){if(window.growtype_post_load_more_posts_btn_clicked=!1,t.click((function(t){if(t.preventDefault(),!window.growtype_post_load_more_posts_btn_clicked){window.growtype_post_load_more_posts_btn_clicked=!0;var e=$(this),n=e.attr("data-growtype-post-load-more"),a=$("#"+n);if(0===a.length&&(a=e.closest(".growtype-post-container")),0===a.length&&(a=e.closest(".growtype-post-container-wrapper").find(".growtype-post-container")),a){var s=a.attr("data-loading-type"),p=void 0===e.attr("data-growtype-post-load-more-amount")?a.attr("data-visible-posts"):e.attr("data-growtype-post-load-more-amount"),c=p=parseInt(p),l=p+c,d=a.closest(".wp-block-growtype-post").find(".growtype-post-terms-filters"),f=r(d);if("limited"===s){var u="";Object.entries(f).map((function(t,e){var r=t[0].toString(),n=t[1].toString();u+=r+"_"+n+"_"})),void 0!==window.growtype_post.terms_filter[u]&&(l=parseInt(window.growtype_post.terms_filter[u].visible)+c),window.growtype_post.terms_filter[u]={visible:l},o(a.closest(".wp-block-growtype-post"),f,l),window.growtype_post_load_more_posts_btn_clicked=!1}else"ajax"===s&&i({amount_to_load:c,amount_to_show:l,selected_terms_navigation_values:f,filters_container:d,btn:e,posts_container:a})}}})),$(".gp-actions-wrapper").length>0){var e=$(".gp-actions-wrapper").closest(".growtype-post-container-wrapper").find(".growtype-post-container").attr("data-visible-posts"),n=$(".gp-actions-wrapper").closest(".growtype-post-container-wrapper").find(".growtype-post-container .growtype-post-single").length,a=$(".gp-actions-wrapper").closest(".growtype-post-container-wrapper").find(".growtype-post-container").attr("data-loading-type");n<=e&&"ajax"!==a&&$(".gp-actions-wrapper").hide()}}function p(t,e){var r=t;if(-1===r)r=99999;else{var n="";Object.entries(e).map((function(t,e){var r=t[0].toString(),o=t[1].toString();n+=r+"_"+o+"_"})),void 0!==window.growtype_post.terms_filter[n]&&(r=parseInt(window.growtype_post.terms_filter[n].visible))}return r}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,s=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){s=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(){var t=new URLSearchParams(window.location.search),e={};if(t.size&&t.size>0){var r,n={},o=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=l(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(t.entries());try{for(o.s();!(r=o.n()).done;){var a=c(r.value,2),i=a[0],s=a[1];n[i]=s.split(",")}}catch(t){o.e(t)}finally{o.f()}0===$(".growtype-post-container-wrapper").length?e=n:Object.entries(n).length>0&&Object.entries(n).forEach((function(t){var r=c(t,2),n=r[0],o=r[1];$(".growtype-post-terms-filter-btn[data-cat-"+n+"]").length>0&&(e[n]=o)}))}return e}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,s=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){s=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(){if(0!==$(".growtype-post-container-wrapper").length){var t=f();if(Object.entries(t).length>0){var e=!1;Object.entries(t).forEach((function(t){var r=u(t,2),n=r[0],o=r[1],a=$(".growtype-post-terms-filter-btn[data-cat-"+n+'="'+o+'"]');a.length>0&&(a.hasClass("is-active")||(e=!0))})),$(".growtype-post-terms-filter-btn").removeClass("is-active"),Object.entries(t).forEach((function(t){var e=u(t,2),r=e[0],n=e[1],o=$(".growtype-post-terms-filter-btn[data-cat-"+r+'="'+n+'"]');o.length>0&&o.addClass("is-active")})),$(".growtype-post-container-wrapper").map((function(r,n){var a,i=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=g(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(new URLSearchParams(window.location.search).entries());try{for(i.s();!(a=i.n()).done;){var s=u(a.value,2),c=s[0],l=s[1];if("gpcid"===c){var d=$("#"+l);d.length>0&&(n=d)}}}catch(t){i.e(t)}finally{i.f()}if(n.length>0){var f=n.find(".growtype-post-container").attr("data-visible-posts"),w=p(f=parseInt(f),t);e&&n.find(".growtype-post-single").fadeOut().promise().done((function(){o(n,t,w)}))}}))}}}function v(){function t(t,e,r,n){var s=t.find(".growtype-post-terms-filters"),p=t.find(".growtype-post-container").attr("data-loading-type"),c=t.find(".growtype-post-single");c.parent().hasClass("growtype-post-container")||(c=c.parent()),c.fadeOut().promise().done((function(){o(t,e,r);var c=a(s);if(window.growtype_post.loaded_posts&&window.growtype_post.loaded_posts[c]?t.find(".gp-actions-wrapper").fadeOut():"ajax"===p&&t.find(".gp-actions-wrapper").fadeIn(),"ajax"===p&&t.find(".btn-loadmore:visible").length>0){var l=n-t.find(".growtype-post-single:visible").length;l>0&&i({amount_to_load:l,amount_to_show:l,selected_terms_navigation_values:e,filters_container:s,posts_container:t.find(".growtype-post-container"),btn:t.find(".btn-loadmore")})}}))}$(".growtype-post-terms-filter").on("change",(function(e){var n=$(e.target).closest(".growtype-post-container-wrapper"),o=$(e.target).closest(".growtype-post-terms-filters"),a=n.find(".growtype-post-container").attr("data-visible-posts");a=parseInt(a);var i=r(o);t(n,i,p(a,i),a)})),$(".growtype-post-terms-filter-btn").click((function(){if(!$(this).attr("data-disabled")){var e=$(this).attr("data-trigger-type"),n=$(this).attr("data-multiple-select");if("click"!==e||!$(this).hasClass("is-active")){var o=$(this).closest(".growtype-post-container-wrapper"),a=$(this).closest(".growtype-post-terms-filters"),i=$(this).closest(".growtype-post-terms-filter"),s=o.find(".growtype-post-container").attr("data-visible-posts");s=parseInt(s),"toggle"===e?$(this).hasClass("is-active")?$(this).removeClass("is-active"):("false"===n&&i.find(".growtype-post-terms-filter-btn").removeClass("is-active"),$(this).addClass("is-active")):(i.find(".growtype-post-terms-filter-btn").removeClass("is-active"),$(this).addClass("is-active"));var c=r(a);t(o,c,p(s,c),s)}}})),$(".growtype-post-terms-filter").each((function(t,e){""!==$(this).attr("data-init-cat")&&$(e).is(":visible")&&($(e).is("select")?$(e).trigger("change"):$(e).is("div")&&$(".growtype-post-terms-filter-btn[data-cat-"+$(e).attr("data-type")+'="'+$(e).attr("data-init-cat")+'"]').trigger("click"))}))}function h(){$(".growtype-post-btn-like").click((function(){var t=$(this),e=t.find("a");if(void 0!==$(this).attr("data-type")||!(void 0===e.attr("data-type")||void 0!==e.attr("href")&&e.attr("href").length>0)){event.preventDefault(),$(this).toggleClass("is-active");var r=void 0!==e?e.attr("data-type"):$(this).attr("data-type"),n=void 0!==$(this).attr("data-id")?$(this).attr("data-id"):growtype_post.post_id;jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"like_post",post_id:n,data_type:r},success:function(e){t.find(".e-amount").remove(),e.data.likes>0&&t.prepend('<span class="e-amount">'+e.data.likes+"</span>")}})}})),$(".growtype-post-btn-share").click((function(){var t=$(this).find("a");if(void 0!==$(this).attr("data-type")||!(void 0===t.attr("data-type")||void 0!==t.attr("href")&&t.attr("href").length>0)){event.preventDefault(),$(this).toggleClass("is-active");var e=void 0!==t?t.attr("data-type"):$(this).attr("data-type"),r=void 0!==$(this).attr("data-id")?$(this).attr("data-id"):growtype_post.post_id;jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"share_post",post_id:r,data_type:e},success:function(e){var r="https://www.facebook.com/sharer/sharer.php?u="+e.data.share_url;setTimeout((function(){window.open(r,"_blank")})),t&&t.attr("href",r).attr("target","_blank")}})}}))}$=jQuery,window.growtype_post.terms_filter=[],s($("a[data-growtype-post-load-more]")),s($(".gp-actions-wrapper .btn-loadmore")),function(){if($(".growtype-post-custom-filters").length>0){var t=function(t){var e={};t.find(".growtype-post-custom-filters-single").map((function(t,r){var n="";n=$(r).find("select").length>0?$(r).find("select").val():$(r).find("input").val(),e[$(r).attr("data-name")]=n})),t.find(".growtype-post-container .growtype-post-single").show(),t.find(".growtype-post-container .growtype-post-single").each((function(t,r){var n=$(r),o=!0;Object.entries(e).map((function(t,e){var r=t[0];if(n.attr("data-cat-"+r)){var a=t[1].toLowerCase(),i=n.attr("data-cat-"+r).toLowerCase();if("all"===a)return;i.includes(a)||(o=!1)}})),o||n.hide()}))};$(".growtype-post-custom-filters .growtype-post-custom-filters-single input").on("input",(function(e){var r=$(this).closest(".growtype-post-container-wrapper");setTimeout((function(){t(r)}),500)})),$(".growtype-post-custom-filters .growtype-post-custom-filters-single select").on("change",(function(e){var r=$(this).closest(".growtype-post-container-wrapper");setTimeout((function(){t(r)}),500)}))}}(),y(),v(),h(),$(document).ready((function(){$(".growtype-post-ajax-load-content").each((function(t,e){var r=$(this),n=r.closest(".wp-block-growtype-post"),o=f(),a=r.attr("data-args");(a=a?JSON.parse(a):"").selected_terms_navigation_values=o,$('a[data-growtype-post-load-more="'+a.parent_id+'"]').hide(),a&&jQuery.ajax({url:growtype_post.ajax_url,type:"post",data:{action:"growtype_post_ajax_load_content",args:a},success:function(t){if(t.data.render){var e=$(t.data.render);n.html(e),v(),h(),s(e.find(".btn-loadmore")),$('a[data-growtype-post-load-more="'+a.parent_id+'"]').show(),document.dispatchEvent(new CustomEvent("growtypePostAjaxLoadContent",{detail:t})),y(),parseInt(t.data.posts_amount)!==parseInt(a.posts_per_page)&&e.find(".gp-actions-wrapper").hide()}}})}))}))},217:function(){},805:function(){}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var a=r[t]={exports:{}};return e[t](a,a.exports,n),a.exports}n.m=e,t=[],n.O=function(e,r,o,a){if(!r){var i=1/0;for(l=0;l<t.length;l++){r=t[l][0],o=t[l][1],a=t[l][2];for(var s=!0,p=0;p<r.length;p++)(!1&a||i>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[p])}))?r.splice(p--,1):(s=!1,a<i&&(i=a));if(s){t.splice(l--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[r,o,a]},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={67:0,529:0,290:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,i=r[0],s=r[1],p=r[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(p)var l=p(n)}for(e&&e(r);c<i.length;c++)a=i[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(l)},r=self.webpackChunkplugin=self.webpackChunkplugin||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),n.O(void 0,[529,290],(function(){return n(572)})),n.O(void 0,[529,290],(function(){return n(217)}));var o=n.O(void 0,[529,290],(function(){return n(805)}));o=n.O(o)}();
//# sourceMappingURL=growtype-post.js.map